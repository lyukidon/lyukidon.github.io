import{s as Y,h as L,i as M,n as ee}from"../chunks/scheduler.dd918b38.js";import{S as te,i as le,r as D,u as G,v as K,d as Q,t as U,w as V,g as u,m as se,s as p,H as O,h as v,j as ae,n as ne,f as a,c as d,A as $,F as Z,a as n,y as ie}from"../chunks/index.94d1baeb.js";import{P as oe,g as re,a as z}from"../chunks/post_layout.0e7f7691.js";import{I as pe}from"../chunks/footer.cff7633e.js";function de(w){let t,o,i,c,l,r="NestJS의 cors option을 설정해도 같은 문제가 계속 발생한다.",f,m,R="이러한 경우, proxy server를 통해서 문제를 해결한다.",b,_,S="통신 과정은 다음과 같다.",q,P,W=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF"><div class='code-container'><code><div class='line'><span style="color: undefined">┌─────────┐   →   ┌───────────┐</span></div><div class='line'><span style="color: undefined">│ browser │   ←   │ BE-server │</span></div><div class='line'><span style="color: undefined">└─────────┘       └───────────┘</span></div></code></div></pre>`,h,x,j="브라우저가 통신하는 과정에서 BE가 browser의 요청을 외부 API 요청으로 확인해, cookie 전송 요청을 거부하는 것이다.",T,y,A="Proxy server를 생성하는 경우 다음과 같이 통신을 하게 된다.",k,E,X=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF"><div class='code-container'><code><div class='line'><span style="color: undefined">┌─────────┐      ┌───────────┐</span></div><div class='line'><span style="color: undefined">│ browser │      │ BE-server │</span></div><div class='line'><span style="color: undefined">└─────────┘      └───────────┘</span></div><div class='line'><span style="color: undefined">    ↑↓                ↑↓</span></div><div class='line'><span style="color: undefined">┌────────────────────────────┐</span></div><div class='line'><span style="color: undefined">│       Proxy-server         │</span></div><div class='line'><span style="color: undefined">└────────────────────────────┘</span></div></code></div></pre>`,F,C,B="설정하는 방법은 두 가지가 있다.",H,g,J="<li>CRA를 사용하는 경우, package.json에 <code>&quot;proxy&quot;:&quot;https://www.server.com&quot;</code>를  추가한다.</li> <li>http-proxy-middleware 라이브러리를 사용한다.</li>",I;return i=new pe({props:{src:"image.png",alt:"alt text"}}),{c(){t=u("p"),o=se(`React에서 로그인을 하려고 하니 자꾸 에러가 났다.
`),D(i.$$.fragment),c=p(),l=u("p"),l.textContent=r,f=p(),m=u("p"),m.textContent=R,b=p(),_=u("p"),_.textContent=S,q=p(),P=new O(!1),h=p(),x=u("p"),x.textContent=j,T=p(),y=u("p"),y.textContent=A,k=p(),E=new O(!1),F=p(),C=u("p"),C.textContent=B,H=p(),g=u("ol"),g.innerHTML=J,this.h()},l(e){t=v(e,"P",{});var s=ae(t);o=ne(s,`React에서 로그인을 하려고 하니 자꾸 에러가 났다.
`),G(i.$$.fragment,s),s.forEach(a),c=d(e),l=v(e,"P",{"data-svelte-h":!0}),$(l)!=="svelte-13axydx"&&(l.textContent=r),f=d(e),m=v(e,"P",{"data-svelte-h":!0}),$(m)!=="svelte-1o0907r"&&(m.textContent=R),b=d(e),_=v(e,"P",{"data-svelte-h":!0}),$(_)!=="svelte-1urq1d3"&&(_.textContent=S),q=d(e),P=Z(e,!1),h=d(e),x=v(e,"P",{"data-svelte-h":!0}),$(x)!=="svelte-cqsylx"&&(x.textContent=j),T=d(e),y=v(e,"P",{"data-svelte-h":!0}),$(y)!=="svelte-1puf7g6"&&(y.textContent=A),k=d(e),E=Z(e,!1),F=d(e),C=v(e,"P",{"data-svelte-h":!0}),$(C)!=="svelte-192bzpl"&&(C.textContent=B),H=d(e),g=v(e,"OL",{"data-svelte-h":!0}),$(g)!=="svelte-4htmvu"&&(g.innerHTML=J),this.h()},h(){P.a=h,E.a=F},m(e,s){n(e,t,s),ie(t,o),K(i,t,null),n(e,c,s),n(e,l,s),n(e,f,s),n(e,m,s),n(e,b,s),n(e,_,s),n(e,q,s),P.m(W,e,s),n(e,h,s),n(e,x,s),n(e,T,s),n(e,y,s),n(e,k,s),E.m(X,e,s),n(e,F,s),n(e,C,s),n(e,H,s),n(e,g,s),I=!0},p:ee,i(e){I||(Q(i.$$.fragment,e),I=!0)},o(e){U(i.$$.fragment,e),I=!1},d(e){e&&(a(t),a(c),a(l),a(f),a(m),a(b),a(_),a(q),P.d(),a(h),a(x),a(T),a(y),a(k),E.d(),a(F),a(C),a(H),a(g)),V(i)}}}function ce(w){let t,o;const i=[w[0],N];let c={$$slots:{default:[de]},$$scope:{ctx:w}};for(let l=0;l<i.length;l+=1)c=L(c,i[l]);return t=new oe({props:c}),{c(){D(t.$$.fragment)},l(l){G(t.$$.fragment,l)},m(l,r){K(t,l,r),o=!0},p(l,[r]){const f=r&1?re(i,[r&1&&z(l[0]),r&0&&z(N)]):{};r&2&&(f.$$scope={dirty:r,ctx:l}),t.$set(f)},i(l){o||(Q(t.$$.fragment,l),o=!0)},o(l){U(t.$$.fragment,l),o=!1},d(l){V(t,l)}}}const N={title:"React CORS Error와 Proxy Server",image:"",alt:"",created:"2024-04-24T00:00:00.000Z",updated:"2024-04-24T00:00:00.000Z",tags:["nestjs","react","cors"],images:[],slug:"/Javascript/TIL/react/proxy_server/+page.md",path:"/Javascript/TIL/react/proxy_server",toc:!1};function ue(w,t,o){return w.$$set=i=>{o(0,t=L(L({},t),M(i)))},t=M(t),[t]}class xe extends te{constructor(t){super(),le(this,t,ue,ce,Y,{})}}export{xe as component};
