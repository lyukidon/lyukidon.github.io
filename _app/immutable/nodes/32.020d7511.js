import{s as Z,h as P,i as q,n as j}from"../chunks/scheduler.dd918b38.js";import{S as z,i as G,r as K,u as M,v as O,d as Q,t as U,w as V,g as u,s as y,H as w,h as C,A as _,c as i,F as b,a as o,f as p}from"../chunks/index.94d1baeb.js";import{P as X,g as Y,a as I}from"../chunks/post_layout.0e7f7691.js";function ss(m){let a,c="react-router-dom의 Hook을 class Component에서 사용하는 경우, 에러가 발생하게 된다.",e,r,l=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" sh="true"><div class="language-id">sh</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">React Hook </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">useNavigate</span><span style="color: #89DDFF">"</span><span style="color: #EEFFFF"> cannot be called </span><span style="color: #89DDFF">in</span><span style="color: #EEFFFF"> a class component.</span></div><div class='line'></div><div class='line'><span style="color: #EEFFFF">React Hooks must be called </span><span style="color: #89DDFF">in</span><span style="color: #EEFFFF"> a React </span><span style="color: #C792EA">function</span><span style="color: #EEFFFF"> </span><span style="color: #82AAFF">component</span><span style="color: #EEFFFF"> or a custom React Hook </span><span style="color: #C792EA">function</span><span style="color: #EEFFFF">  </span><span style="color: #82AAFF">react-hooks/rules-of-hooks</span></div></code></div></pre>`,t,F,T="function 함수에서 밖에 쓸 수 없는 경우는 아래와 같이 해결하면 된다.",h,f,L=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" ts="true"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">export</span><span style="color: #EEFFFF"> </span><span style="color: #C792EA">const</span><span style="color: #EEFFFF"> withRouter </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">(</span><span style="color: #EEFFFF">Component</span><span style="color: #89DDFF">:</span><span style="color: #FFCB6B">React</span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">FC</span><span style="color: #89DDFF">):</span><span style="color: #EEFFFF"> </span><span style="color: #FFCB6B">React</span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">FC</span><span style="color: #EEFFFF"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">&#123;</span></div><div class='line'><span style="color: #F07178">  </span><span style="color: #C792EA">const</span><span style="color: #F07178"> </span><span style="color: #EEFFFF">Wrapper</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #89DDFF">(</span><span style="color: #EEFFFF">props</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #FFCB6B">any</span><span style="color: #89DDFF">):</span><span style="color: #F07178"> </span><span style="color: #FFCB6B">React</span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">ReactElement</span><span style="color: #F07178"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#123;</span></div><div class='line'><span style="color: #F07178">    </span><span style="color: #C792EA">const</span><span style="color: #F07178"> </span><span style="color: #EEFFFF">navigate</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #82AAFF">useNavigate</span><span style="color: #F07178">()</span><span style="color: #89DDFF">;</span></div><div class='line'><span style="color: #F07178">    </span><span style="color: #C792EA">const</span><span style="color: #F07178"> </span><span style="color: #EEFFFF">params</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #82AAFF">useParams</span><span style="color: #F07178">()</span><span style="color: #89DDFF">;</span></div><div class='line'></div><div class='line'><span style="color: #F07178">    </span><span style="color: #89DDFF">return</span><span style="color: #F07178"> &lt;</span><span style="color: #FFCB6B">Component</span><span style="color: #F07178"> </span><span style="color: #FFCB6B">navigate</span><span style="color: #F07178">=</span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178">navigate</span><span style="color: #89DDFF">&#125;</span><span style="color: #F07178"> </span><span style="color: #FFCB6B">params</span><span style="color: #F07178">=</span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178">params</span><span style="color: #89DDFF">&#125;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#123;...</span><span style="color: #FFCB6B">props</span><span style="color: #89DDFF">&#125;</span><span style="color: #F07178"> /&gt;</span><span style="color: #89DDFF">;</span></div><div class='line'><span style="color: #F07178">  </span><span style="color: #89DDFF">&#125;;</span></div><div class='line'></div><div class='line'><span style="color: #F07178">  </span><span style="color: #89DDFF">return</span><span style="color: #F07178"> </span><span style="color: #EEFFFF">Wrapper</span><span style="color: #89DDFF">;</span></div><div class='line'><span style="color: #89DDFF">&#125;;</span></div></code></div></pre>`,B,D,$="매개변수 컴포넌트에 props를 주입하는 코드이다.",A,E,H="Wrapper 함수 내부에 react-router-dom의 hook을 작성한다.",k,d,S="위의 함수 사용방법",R,g,N=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" ts="true"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #C792EA">class</span><span style="color: #EEFFFF"> </span><span style="color: #FFCB6B">TempComp</span><span style="color: #EEFFFF"> </span><span style="color: #C792EA">extends</span><span style="color: #EEFFFF"> </span><span style="color: #FFCB6B">React</span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">Component</span><span style="color: #89DDFF">&lt;</span><span style="color: #FFCB6B">PropType</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF"> </span><span style="color: #FFCB6B">StateType</span><span style="color: #89DDFF">&gt;</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">&#123;</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #F07178">navigate</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">(</span><span style="color: #EEFFFF">url</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #FFCB6B">string</span><span style="color: #89DDFF">)</span><span style="color: #EEFFFF"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #EEFFFF"> </span><span style="color: #FFCB6B">void</span><span style="color: #89DDFF">;</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #F07178">params</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #EEFFFF"> </span><span style="color: #F07178">param1</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #FFCB6B">string</span><span style="color: #89DDFF">;</span><span style="color: #EEFFFF"> </span><span style="color: #F07178">param2</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #FFCB6B">number</span><span style="color: #89DDFF">;</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">&#125;;</span></div><div class='line'></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #C792EA">constructor</span><span style="color: #89DDFF">(</span><span style="color: #EEFFFF">props</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #FFCB6B">PropType</span><span style="color: #89DDFF">)&#123;</span></div><div class='line'><span style="color: #F07178">      </span><span style="color: #EEFFFF">super</span><span style="color: #F07178">(</span><span style="color: #EEFFFF">props</span><span style="color: #F07178">)</span></div><div class='line'></div><div class='line'><span style="color: #89DDFF">      </span><span style="color: #546E7A">// 상단에 타입을 작성해준다.</span></div><div class='line'><span style="color: #F07178">      </span><span style="color: #89DDFF">this.</span><span style="color: #EEFFFF">navigate</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #89DDFF">this.</span><span style="color: #EEFFFF">props</span><span style="color: #89DDFF">.</span><span style="color: #EEFFFF">navigate</span></div><div class='line'><span style="color: #F07178">      </span><span style="color: #89DDFF">this.</span><span style="color: #EEFFFF">params</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #89DDFF">this.</span><span style="color: #EEFFFF">props</span><span style="color: #89DDFF">.</span><span style="color: #EEFFFF">params</span></div><div class='line'><span style="color: #F07178">    </span><span style="color: #89DDFF">&#125;</span></div><div class='line'></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #F07178">render</span><span style="color: #89DDFF">(</span></div><div class='line'><span style="color: #EEFFFF">      &lt;div&gt;&lt;/div&gt;</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #89DDFF">)</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #89DDFF">&#125;</span></div><div class='line'></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #89DDFF">export</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">default</span><span style="color: #EEFFFF"> </span><span style="color: #82AAFF">withRouter</span><span style="color: #EEFFFF">(TempComp)</span></div></code></div></pre>`,x,v,W="마지막 코드와 같이 Class Component를 withRouter에 넣게 되면 props를 주입할 수 있게 된다.";return{c(){a=u("p"),a.textContent=c,e=y(),r=new w(!1),t=y(),F=u("p"),F.textContent=T,h=y(),f=new w(!1),B=y(),D=u("p"),D.textContent=$,A=y(),E=u("p"),E.textContent=H,k=y(),d=u("p"),d.textContent=S,R=y(),g=new w(!1),x=y(),v=u("p"),v.textContent=W,this.h()},l(s){a=C(s,"P",{"data-svelte-h":!0}),_(a)!=="svelte-eqykgp"&&(a.textContent=c),e=i(s),r=b(s,!1),t=i(s),F=C(s,"P",{"data-svelte-h":!0}),_(F)!=="svelte-17i40gy"&&(F.textContent=T),h=i(s),f=b(s,!1),B=i(s),D=C(s,"P",{"data-svelte-h":!0}),_(D)!=="svelte-1oabkfd"&&(D.textContent=$),A=i(s),E=C(s,"P",{"data-svelte-h":!0}),_(E)!=="svelte-ie1iyi"&&(E.textContent=H),k=i(s),d=C(s,"P",{"data-svelte-h":!0}),_(d)!=="svelte-kzcv0n"&&(d.textContent=S),R=i(s),g=b(s,!1),x=i(s),v=C(s,"P",{"data-svelte-h":!0}),_(v)!=="svelte-srrpvc"&&(v.textContent=W),this.h()},h(){r.a=t,f.a=B,g.a=x},m(s,n){o(s,a,n),o(s,e,n),r.m(l,s,n),o(s,t,n),o(s,F,n),o(s,h,n),f.m(L,s,n),o(s,B,n),o(s,D,n),o(s,A,n),o(s,E,n),o(s,k,n),o(s,d,n),o(s,R,n),g.m(N,s,n),o(s,x,n),o(s,v,n)},p:j,d(s){s&&(p(a),p(e),r.d(),p(t),p(F),p(h),f.d(),p(B),p(D),p(A),p(E),p(k),p(d),p(R),g.d(),p(x),p(v))}}}function as(m){let a,c;const e=[m[0],J];let r={$$slots:{default:[ss]},$$scope:{ctx:m}};for(let l=0;l<e.length;l+=1)r=P(r,e[l]);return a=new X({props:r}),{c(){K(a.$$.fragment)},l(l){M(a.$$.fragment,l)},m(l,t){O(a,l,t),c=!0},p(l,[t]){const F=t&1?Y(e,[t&1&&I(l[0]),t&0&&I(J)]):{};t&2&&(F.$$scope={dirty:t,ctx:l}),a.$set(F)},i(l){c||(Q(a.$$.fragment,l),c=!0)},o(l){U(a.$$.fragment,l),c=!1},d(l){V(a,l)}}}const J={title:"Class 컴포넌트 사용 시, React-Router-Dom의 Hook이 호환되지 않는 문제점",image:"",alt:"",created:"2024-04-17T00:00:00.000Z",updated:"2024-04-17T00:00:00.000Z",tags:["react"],images:[],slug:"/Javascript/TIL/react/class_component_compatibility_problem_with_react_router/+page.md",path:"/Javascript/TIL/react/class_component_compatibility_problem_with_react_router",toc:!1};function ls(m,a,c){return m.$$set=e=>{c(0,a=P(P({},a),q(e)))},a=q(a),[a]}class ts extends z{constructor(a){super(),G(this,a,ls,as,Z,{})}}export{ts as component};
