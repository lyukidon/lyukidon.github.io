import{s as ks,h as os,i as is,n as Ss}from"../chunks/scheduler.dd918b38.js";import{S as Ts,i as ws,r as Us,u as Ls,v as Ms,d as Rs,t as Is,w as Hs,g as t,s as e,H as _,h as c,A as h,c as o,j as H,F as f,f as r,k as ds,a as A,y as l}from"../chunks/index.94d1baeb.js";import{P as bs,g as qs,a as Ds}from"../chunks/post_layout.2e559c88.js";function Bs(x){let s,D='<a href="#사용-이유">사용 이유</a>',d,E,a="기존 메서드가 제대로 작동하지 않았다. 특히 <code>.update</code>",y,i,ps='<a href="#사용-방법">사용 방법</a>',b,p,g,k,ts="기본 설정",K,q,us=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" ts="true"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">import</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> </span><span style="color: #EEFFFF">DataSource</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">from</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">typeorm</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">;</span></div><div class='line'></div><div class='line'><span style="color: #C792EA">class</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">&#123;</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #C792EA">constructor</span><span style="color: #89DDFF">(</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #C792EA">private</span><span style="color: #EEFFFF"> </span><span style="color: #C792EA">readonly</span><span style="color: #EEFFFF"> dataSource</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #FFCB6B">DataSource</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #89DDFF">)&#123;&#125;</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #F07178">queryBuilder</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">this.</span><span style="color: #EEFFFF">dataSource</span><span style="color: #89DDFF">.</span><span style="color: #F07178">getRepository</span><span style="color: #EEFFFF">(User)</span><span style="color: #89DDFF">.</span><span style="color: #F07178">createQueryBuilder</span><span style="color: #EEFFFF">(</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">u</span><span style="color: #89DDFF">"</span><span style="color: #EEFFFF">)</span></div><div class='line'><span style="color: #89DDFF">&#125;</span></div></code></div></pre>`,X,v,S,cs="조회",Y,B,Cs=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" ts="true"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">this.</span><span style="color: #EEFFFF">dataSource</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">getRepository</span><span style="color: #EEFFFF">(User)</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">createQueryBuilder</span><span style="color: #EEFFFF">(</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">u</span><span style="color: #89DDFF">"</span><span style="color: #EEFFFF">)</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">select</span><span style="color: #EEFFFF">(</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">u.userId</span><span style="color: #89DDFF">"</span><span style="color: #EEFFFF">)</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">where</span><span style="color: #EEFFFF">(</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">u.name = :name</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #EEFFFF"> </span><span style="color: #F07178">name</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">ryu</span><span style="color: #89DDFF">"</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">&#125;</span><span style="color: #EEFFFF">)</span></div><div class='line'><span style="color: #89DDFF">  </span><span style="color: #546E7A">// .getOne() 한 개 받아오기</span></div><div class='line'><span style="color: #89DDFF">  </span><span style="color: #546E7A">// .getMany() 여러 개 받아오기</span></div></code></div></pre>`,N,P,ms=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" sql="true"><div class="language-id">sql</div><div class='code-container'><code><div class='line'><span style="color: #F78C6C">SELECT</span><span style="color: #EEFFFF"> U.USERID </span><span style="color: #F78C6C">FROM</span><span style="color: #EEFFFF"> USER U</span></div><div class='line'><span style="color: #F78C6C">WHERE</span><span style="color: #EEFFFF"> U.NAME </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">ryu</span><span style="color: #89DDFF">"</span></div></code></div></pre>`,ss,u,T,rs="추가",ls,$,_s=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" ts="true"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">this.</span><span style="color: #EEFFFF">dataSource</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">createQueryBuilder</span><span style="color: #EEFFFF">()</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">insert</span><span style="color: #EEFFFF">()</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">into</span><span style="color: #EEFFFF">(User)</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">values</span><span style="color: #EEFFFF">([</span></div><div class='line'><span style="color: #EEFFFF">      </span><span style="color: #89DDFF">&#123;</span><span style="color: #EEFFFF"> </span><span style="color: #F07178">name</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">Jack</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF"> </span><span style="color: #F07178">age</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">30</span><span style="color: #89DDFF">"</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">&#125;,</span></div><div class='line'><span style="color: #EEFFFF">      </span><span style="color: #89DDFF">&#123;</span><span style="color: #EEFFFF"> </span><span style="color: #F07178">name</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">Tom</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF"> </span><span style="color: #F07178">age</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">25</span><span style="color: #89DDFF">"</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">&#125;</span></div><div class='line'><span style="color: #EEFFFF">    ])</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">execute</span><span style="color: #EEFFFF">()</span></div></code></div></pre>`,O,J,fs=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" sql="true"><div class="language-id">sql</div><div class='code-container'><code><div class='line'><span style="color: #F78C6C">INSERT</span><span style="color: #EEFFFF"> </span><span style="color: #F78C6C">INTO</span><span style="color: #EEFFFF"> USER </span><span style="color: #F78C6C">VALUES</span><span style="color: #EEFFFF"> (</span><span style="color: #F78C6C">NAME</span><span style="color: #EEFFFF">, AGE)</span></div><div class='line'><span style="color: #F78C6C">VALUES</span><span style="color: #EEFFFF"> (</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">Jack</span><span style="color: #89DDFF">"</span><span style="color: #EEFFFF">, </span><span style="color: #F78C6C">30</span><span style="color: #EEFFFF">);</span></div><div class='line'></div><div class='line'><span style="color: #F78C6C">INSERT</span><span style="color: #EEFFFF"> </span><span style="color: #F78C6C">INTO</span><span style="color: #EEFFFF"> USER </span><span style="color: #F78C6C">VALUES</span><span style="color: #EEFFFF"> (</span><span style="color: #F78C6C">NAME</span><span style="color: #EEFFFF">, AGE)</span></div><div class='line'><span style="color: #F78C6C">VALUES</span><span style="color: #EEFFFF"> (</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">Tom</span><span style="color: #89DDFF">"</span><span style="color: #EEFFFF">, </span><span style="color: #F78C6C">25</span><span style="color: #EEFFFF">);</span></div></code></div></pre>`,as,C,w,ys="제거",ns,Q,hs=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" ts="true"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #89DDFF">this.</span><span style="color: #EEFFFF">dataSource</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">createQueryBuilder</span><span style="color: #EEFFFF">()</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">delete</span><span style="color: #EEFFFF">()</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">from</span><span style="color: #EEFFFF">(User)</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">where</span><span style="color: #EEFFFF">(</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">userId = :userId</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178">userId</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">&#125;</span><span style="color: #EEFFFF">)</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">execute</span><span style="color: #EEFFFF">()</span></div></code></div></pre>`,G,V,gs=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" sql="true"><div class="language-id">sql</div><div class='code-container'><code><div class='line'><span style="color: #F78C6C">DELETE</span><span style="color: #EEFFFF"> </span><span style="color: #F78C6C">FROM</span><span style="color: #EEFFFF"> USER</span></div><div class='line'><span style="color: #F78C6C">WHERE</span><span style="color: #EEFFFF"> USERID </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> </span><span style="color: #F78C6C">1</span><span style="color: #EEFFFF">;</span></div></code></div></pre>`,Fs,m,U,Es="변경",es,j,As=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" ts="true"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">this.</span><span style="color: #EEFFFF">dataSource</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">createQueryBuilder</span><span style="color: #EEFFFF">()</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">update</span><span style="color: #EEFFFF">(User)</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">set</span><span style="color: #EEFFFF">(</span><span style="color: #89DDFF">&#123;</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #F07178">name</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">Mike</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #F07178">age</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #F78C6C">60</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #89DDFF">&#125;</span><span style="color: #EEFFFF">)</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">where</span><span style="color: #EEFFFF">(</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">name = :name</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178">name</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">Jack</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF">&#125;</span><span style="color: #EEFFFF">)</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">execute</span><span style="color: #EEFFFF">()</span></div></code></div></pre>`,W,z,xs=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" sql="true"><div class="language-id">sql</div><div class='code-container'><code><div class='line'><span style="color: #F78C6C">UPDATE</span><span style="color: #EEFFFF"> USER</span></div><div class='line'><span style="color: #F78C6C">SET</span><span style="color: #EEFFFF"> </span><span style="color: #F78C6C">NAME</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">Mike</span><span style="color: #89DDFF">"</span></div><div class='line'><span style="color: #EEFFFF">    AGE  </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> </span><span style="color: #F78C6C">60</span></div><div class='line'><span style="color: #EEFFFF"># </span><span style="color: #F78C6C">or</span><span style="color: #EEFFFF"> </span><span style="color: #F78C6C">SET</span><span style="color: #EEFFFF"> (</span><span style="color: #F78C6C">NAME</span><span style="color: #EEFFFF">, AGE) </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> (</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">Mike</span><span style="color: #89DDFF">"</span><span style="color: #EEFFFF">, </span><span style="color: #F78C6C">60</span><span style="color: #EEFFFF">)</span></div><div class='line'><span style="color: #F78C6C">WHERE</span><span style="color: #EEFFFF"> </span><span style="color: #F78C6C">NAME</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">Jack</span><span style="color: #89DDFF">"</span></div></code></div></pre>`;return{c(){s=t("h2"),s.innerHTML=D,d=e(),E=t("p"),E.innerHTML=a,y=e(),i=t("h2"),i.innerHTML=ps,b=e(),p=t("ul"),g=t("li"),k=t("p"),k.textContent=ts,K=e(),q=new _(!1),X=e(),v=t("li"),S=t("p"),S.textContent=cs,Y=e(),B=new _(!1),N=e(),P=new _(!1),ss=e(),u=t("li"),T=t("p"),T.textContent=rs,ls=e(),$=new _(!1),O=e(),J=new _(!1),as=e(),C=t("li"),w=t("p"),w.textContent=ys,ns=e(),Q=new _(!1),G=e(),V=new _(!1),Fs=e(),m=t("li"),U=t("p"),U.textContent=Es,es=e(),j=new _(!1),W=e(),z=new _(!1),this.h()},l(F){s=c(F,"H2",{id:!0,"data-svelte-h":!0}),h(s)!=="svelte-1tt2jkb"&&(s.innerHTML=D),d=o(F),E=c(F,"P",{"data-svelte-h":!0}),h(E)!=="svelte-1sbm6m3"&&(E.innerHTML=a),y=o(F),i=c(F,"H2",{id:!0,"data-svelte-h":!0}),h(i)!=="svelte-f0pzx"&&(i.innerHTML=ps),b=o(F),p=c(F,"UL",{});var n=H(p);g=c(n,"LI",{});var Z=H(g);k=c(Z,"P",{"data-svelte-h":!0}),h(k)!=="svelte-ht4x0z"&&(k.textContent=ts),K=o(Z),q=f(Z,!1),Z.forEach(r),X=o(n),v=c(n,"LI",{});var L=H(v);S=c(L,"P",{"data-svelte-h":!0}),h(S)!=="svelte-1oxbhoo"&&(S.textContent=cs),Y=o(L),B=f(L,!1),N=o(L),P=f(L,!1),L.forEach(r),ss=o(n),u=c(n,"LI",{});var M=H(u);T=c(M,"P",{"data-svelte-h":!0}),h(T)!=="svelte-1y4he74"&&(T.textContent=rs),ls=o(M),$=f(M,!1),O=o(M),J=f(M,!1),M.forEach(r),as=o(n),C=c(n,"LI",{});var R=H(C);w=c(R,"P",{"data-svelte-h":!0}),h(w)!=="svelte-1xkq9co"&&(w.textContent=ys),ns=o(R),Q=f(R,!1),G=o(R),V=f(R,!1),R.forEach(r),Fs=o(n),m=c(n,"LI",{});var I=H(m);U=c(I,"P",{"data-svelte-h":!0}),h(U)!=="svelte-1p07rih"&&(U.textContent=Es),es=o(I),j=f(I,!1),W=o(I),z=f(I,!1),I.forEach(r),n.forEach(r),this.h()},h(){ds(s,"id","사용-이유"),ds(i,"id","사용-방법"),q.a=null,B.a=N,P.a=null,$.a=O,J.a=null,Q.a=G,V.a=null,j.a=W,z.a=null},m(F,n){A(F,s,n),A(F,d,n),A(F,E,n),A(F,y,n),A(F,i,n),A(F,b,n),A(F,p,n),l(p,g),l(g,k),l(g,K),q.m(us,g),l(p,X),l(p,v),l(v,S),l(v,Y),B.m(Cs,v),l(v,N),P.m(ms,v),l(p,ss),l(p,u),l(u,T),l(u,ls),$.m(_s,u),l(u,O),J.m(fs,u),l(p,as),l(p,C),l(C,w),l(C,ns),Q.m(hs,C),l(C,G),V.m(gs,C),l(p,Fs),l(p,m),l(m,U),l(m,es),j.m(As,m),l(m,W),z.m(xs,m)},p:Ss,d(F){F&&(r(s),r(d),r(E),r(y),r(i),r(b),r(p))}}}function Ns(x){let s,D;const d=[x[0],vs];let E={$$slots:{default:[Bs]},$$scope:{ctx:x}};for(let a=0;a<d.length;a+=1)E=os(E,d[a]);return s=new bs({props:E}),{c(){Us(s.$$.fragment)},l(a){Ls(s.$$.fragment,a)},m(a,y){Ms(s,a,y),D=!0},p(a,[y]){const i=y&1?qs(d,[y&1&&Ds(a[0]),y&0&&Ds(vs)]):{};y&2&&(i.$$scope={dirty:y,ctx:a}),s.$set(i)},i(a){D||(Rs(s.$$.fragment,a),D=!0)},o(a){Is(s.$$.fragment,a),D=!1},d(a){Hs(s,a)}}}const vs={title:"TypeORM Query Builder 사용해보기",image:"",alt:"",created:"2024-03-20T00:00:00.000Z",updated:"2024-03-20T00:00:00.000Z",tags:["TypeORM"],images:[],slug:"/Javascript/TIL/typeorm/queryBuilder/+page.md",path:"/Javascript/TIL/typeorm/queryBuilder",toc:[{depth:2,title:"사용 이유",slug:"사용-이유"},{depth:2,title:"사용 방법",slug:"사용-방법"}]};function Ps(x,s,D){return x.$$set=d=>{D(0,s=os(os({},s),is(d)))},s=is(s),[s]}class Qs extends Ts{constructor(s){super(),ws(this,s,Ps,Ns,ks,{})}}export{Qs as component};
