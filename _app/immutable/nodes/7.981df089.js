import{s as gs,h as ts,i as rs,n as hs}from"../chunks/scheduler.4680106d.js";import{S as ws,i as ks,r as As,u as js,v as Cs,d as bs,t as Ts,w as xs,g as p,s as D,m as v,H as _,h as t,A as is,c as u,j as i,n as m,F as f,f as n,a as g,y as l}from"../chunks/index.4ac987bf.js";import{P as Is,g as Ls,a as ys}from"../chunks/post_layout.31e93455.js";function Bs(h){let s,d="JWT 사용방법",y,r,a='npm: <a href="https://www.npmjs.com/package/jsonwebtoken" rel="nofollow noopener noreferrer external" target="_blank">https://www.npmjs.com/package/jsonwebtoken</a>',c,F,w,N,B,Es=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">npm i jsonwebtoken</span></div></code></div></pre>`,U,k,q,$,Ds=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" js="true"><div class="language-id">js</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">import</span><span style="color: #EEFFFF"> jwt </span><span style="color: #89DDFF">from</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">jsonwebtoken</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF">;</span></div><div class='line'><span style="color: #546E7A">// or</span></div><div class='line'><span style="color: #C792EA">const</span><span style="color: #EEFFFF"> jwt </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> </span><span style="color: #82AAFF">require</span><span style="color: #EEFFFF">(</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">jsonwebtoken</span><span style="color: #89DDFF">"</span><span style="color: #EEFFFF">)</span><span style="color: #89DDFF">;</span></div></code></div></pre>`,z,A,M,H,vs=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" js="true"><div class="language-id">js</div><div class='code-container'><code><div class='line'><span style="color: #C792EA">const</span><span style="color: #EEFFFF"> accessToken </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> jwt</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">sign</span><span style="color: #EEFFFF">(payload</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF"> secretkey</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF"> options)</span><span style="color: #89DDFF">;</span></div><div class='line'><span style="color: #546E7A">// example</span></div><div class='line'><span style="color: #C792EA">const</span><span style="color: #EEFFFF"> accessToken </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> jwt</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">sign</span><span style="color: #EEFFFF">(</span><span style="color: #89DDFF">&#123;</span><span style="color: #EEFFFF"> </span><span style="color: #F07178">id</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">lyu</span><span style="color: #89DDFF">"</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">&#125;,</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">randomSecretKey</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">&#123;</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #F07178">algorithm</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">HS256</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF"> </span><span style="color: #546E7A">// 암호화 방식</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #F07178">expiresIn</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">12h</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF"> </span><span style="color: #546E7A">// 만료 기간</span></div><div class='line'><span style="color: #EEFFFF">    notBefore</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF"> </span><span style="color: #546E7A">// 설정한 시간 이전까지는 작동하지 않도록 하는 옵션</span></div><div class='line'><span style="color: #EEFFFF">    audience</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">    issuer</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">    jwtid</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">    subject</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">    noTimestamp</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">    header</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">    keyid</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #F07178">mutatePayload</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> boolean</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF"> </span><span style="color: #546E7A">// 키가 생성되기 전에, payload 값을 변경</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #F07178">allowInsecureKeySizes</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> boolean</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF"> </span><span style="color: #546E7A">// 2048 미만의 모듈러스 개인 키를 RSA에 사용할 수 있음</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #F07178">allowInvalidAsymmetricKeyTypes</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> boolean </span><span style="color: #546E7A">// (이전 버전 호환용) 지정된 알고리즘과 다른 비대칭 키를 허용</span></div><div class='line'><span style="color: #89DDFF">&#125;</span><span style="color: #EEFFFF">)</span><span style="color: #89DDFF">;</span></div></code></div></pre>`,Z,j,O,S,us=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" js="true"><div class="language-id">js</div><div class='code-container'><code><div class='line'><span style="color: #C792EA">const</span><span style="color: #EEFFFF"> decoded </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> jwt</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">verify</span><span style="color: #EEFFFF">(token</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF"> secretkey</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF"> options</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF"> callback)</span><span style="color: #89DDFF">;</span></div><div class='line'><span style="color: #546E7A">// example</span></div><div class='line'><span style="color: #C792EA">const</span><span style="color: #EEFFFF"> decoded </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> jwt</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">verify</span><span style="color: #EEFFFF">(</span></div><div class='line'><span style="color: #EEFFFF">    token</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">secretkey</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #89DDFF">&#123;</span></div><div class='line'><span style="color: #EEFFFF">        </span><span style="color: #F07178">algorithm</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">HS256</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF"> </span><span style="color: #546E7A">// 암호화 방식</span></div><div class='line'><span style="color: #EEFFFF">        audience</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">        complete</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF"> </span><span style="color: #546E7A">// 해석된 &#123; payload, header, signature &#125;를 반환 (기존은 payload만 반환)</span></div><div class='line'><span style="color: #EEFFFF">        issuer</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">        jwtid</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF"> </span><span style="color: #546E7A">// JWT ID를 확인할 때 사용</span></div><div class='line'><span style="color: #EEFFFF">        ignoreExpiration</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF"> </span><span style="color: #546E7A">// 만료 기간을 확인하지 않고 인증</span></div><div class='line'><span style="color: #EEFFFF">        subject</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">        clockTolerance</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">        maxAge</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF"> </span><span style="color: #546E7A">// 만료기간을 최대 기간으로 설정</span></div><div class='line'><span style="color: #EEFFFF">        clockTimestamp</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">        nonce</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">        allowInvalidAsymmetricKeyTypes</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #89DDFF">&#125;,</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #89DDFF">(</span><span style="color: #EEFFFF">err</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF"> decoded</span><span style="color: #89DDFF">)</span><span style="color: #EEFFFF"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">&#123;&#125;</span></div><div class='line'><span style="color: #EEFFFF">)</span><span style="color: #89DDFF">;</span></div></code></div></pre>`,J,C,b,R,E,T,G,P,ms=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" js="true"><div class="language-id">js</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">&#123;</span></div><div class='line'><span style="color: #F07178">    </span><span style="color: #FFCB6B">name</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">TokenExpiredError</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #F07178">    </span><span style="color: #FFCB6B">message</span><span style="color: #89DDFF">:</span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">jwt expired</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #F07178">    </span><span style="color: #EEFFFF">expiredAt</span></div><div class='line'><span style="color: #89DDFF">&#125;</span></div></code></div></pre>`,Q,x,V,K,_s=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" js="true"><div class="language-id">js</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">&#123;</span></div><div class='line'><span style="color: #F07178">    </span><span style="color: #FFCB6B">name</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">JsonWebTokenError</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #EEFFFF">message</span><span style="color: #89DDFF">;</span></div><div class='line'><span style="color: #89DDFF">&#125;</span></div></code></div></pre>`,X,I,Y,W,fs=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" js="true"><div class="language-id">js</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">&#123;</span></div><div class='line'><span style="color: #F07178">    </span><span style="color: #FFCB6B">name</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">NotBeforeError</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #F07178">    </span><span style="color: #FFCB6B">message</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">jwt not active</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #F07178">    </span><span style="color: #EEFFFF">date</span></div><div class='line'><span style="color: #89DDFF">&#125;</span></div></code></div></pre>`;return{c(){s=p("p"),s.textContent=d,y=D(),r=p("p"),r.innerHTML=a,c=D(),F=p("ol"),w=p("li"),N=v("설치하기"),B=new _(!1),U=D(),k=p("li"),q=v("모듈 불러오기"),$=new _(!1),z=D(),A=p("li"),M=v("Access Token 생성하기"),H=new _(!1),Z=D(),j=p("li"),O=v("Access Token 해석하기"),S=new _(!1),J=D(),C=p("ul"),b=p("li"),R=v("에러 확인하기"),E=p("ul"),T=p("li"),G=v("토큰 만료 에러"),P=new _(!1),Q=D(),x=p("li"),V=v("토큰 에러"),K=new _(!1),X=D(),I=p("li"),Y=v("NotBefore 에러"),W=new _(!1),this.h()},l(o){s=t(o,"P",{"data-svelte-h":!0}),is(s)!=="svelte-ksgtza"&&(s.textContent=d),y=u(o),r=t(o,"P",{"data-svelte-h":!0}),is(r)!=="svelte-vaaiwa"&&(r.innerHTML=a),c=u(o),F=t(o,"OL",{});var e=i(F);w=t(e,"LI",{});var ss=i(w);N=m(ss,"설치하기"),B=f(ss,!1),ss.forEach(n),U=u(e),k=t(e,"LI",{});var ls=i(k);q=m(ls,"모듈 불러오기"),$=f(ls,!1),ls.forEach(n),z=u(e),A=t(e,"LI",{});var as=i(A);M=m(as,"Access Token 생성하기"),H=f(as,!1),as.forEach(n),Z=u(e),j=t(e,"LI",{});var ns=i(j);O=m(ns,"Access Token 해석하기"),S=f(ns,!1),ns.forEach(n),e.forEach(n),J=u(o),C=t(o,"UL",{});var cs=i(C);b=t(cs,"LI",{});var os=i(b);R=m(os,"에러 확인하기"),E=t(os,"UL",{});var L=i(E);T=t(L,"LI",{});var es=i(T);G=m(es,"토큰 만료 에러"),P=f(es,!1),es.forEach(n),Q=u(L),x=t(L,"LI",{});var Fs=i(x);V=m(Fs,"토큰 에러"),K=f(Fs,!1),Fs.forEach(n),X=u(L),I=t(L,"LI",{});var ps=i(I);Y=m(ps,"NotBefore 에러"),W=f(ps,!1),ps.forEach(n),L.forEach(n),os.forEach(n),cs.forEach(n),this.h()},h(){B.a=null,$.a=null,H.a=null,S.a=null,P.a=null,K.a=null,W.a=null},m(o,e){g(o,s,e),g(o,y,e),g(o,r,e),g(o,c,e),g(o,F,e),l(F,w),l(w,N),B.m(Es,w),l(F,U),l(F,k),l(k,q),$.m(Ds,k),l(F,z),l(F,A),l(A,M),H.m(vs,A),l(F,Z),l(F,j),l(j,O),S.m(us,j),g(o,J,e),g(o,C,e),l(C,b),l(b,R),l(b,E),l(E,T),l(T,G),P.m(ms,T),l(E,Q),l(E,x),l(x,V),K.m(_s,x),l(E,X),l(E,I),l(I,Y),W.m(fs,I)},p:hs,d(o){o&&(n(s),n(y),n(r),n(c),n(F),n(J),n(C))}}}function $s(h){let s,d;const y=[h[0],ds];let r={$$slots:{default:[Bs]},$$scope:{ctx:h}};for(let a=0;a<y.length;a+=1)r=ts(r,y[a]);return s=new Is({props:r}),{c(){As(s.$$.fragment)},l(a){js(s.$$.fragment,a)},m(a,c){Cs(s,a,c),d=!0},p(a,[c]){const F=c&1?Ls(y,[c&1&&ys(a[0]),c&0&&ys(ds)]):{};c&2&&(F.$$scope={dirty:c,ctx:a}),s.$set(F)},i(a){d||(bs(s.$$.fragment,a),d=!0)},o(a){Ts(s.$$.fragment,a),d=!1},d(a){xs(s,a)}}}const ds={title:"JWT 사용방법",image:"",alt:"Urara",created:"2024-01-31T00:00:00.000Z",updated:"2024-01-31T00:00:00.000Z",tags:["jwt","token"],images:[],slug:"/Javascript/TIL/jwt/+page.md",path:"/Javascript/TIL/jwt",toc:!1};function Hs(h,s,d){return h.$$set=y=>{d(0,s=ts(ts({},s),rs(y)))},s=rs(s),[s]}class Ks extends ws{constructor(s){super(),ks(this,s,Hs,$s,gs,{})}}export{Ks as component};
