import{s as re,h as Z,i as le,n as pe}from"../chunks/scheduler.e373e2eb.js";import{S as ve,i as ue,r as fe,u as _e,v as me,d as ye,t as he,w as we,g as p,s as i,H as x,h as v,A as u,c as d,F as H,k as R,a as l,f as t}from"../chunks/index.dd718910.js";import{P as Te,g as Fe,a as te}from"../chunks/post_layout.74d79b4d.js";function Le(q){let a,f="Prisma에서 TypeORM으로 변경하는 경우, 인증에서 문제가 발생하는 경우가 있다.",c,_,n=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF"><div class='code-container'><code><div class='line'><span style="color: undefined">errno: 1251,</span></div><div class='line'><span style="color: undefined">sqlMessage: 'Client does not support authentication protocol requested by server; consider upgrading MySQL client'</span></div></code></div></pre>`,o,r,B="위와 같은 경우는 mysql의 접근이 불가능하고 password plugin에 문제가 있는 경우인데, 이것을 수정해주면 된다.",S,F,Q="<li>mysql cli에 접속한다.</li>",j,M,ne=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF"><div class='code-container'><code><div class='line'><span style="color: undefined">docker exec -it mysql /bin/bash</span></div><div class='line'><span style="color: undefined">mysql -u root -p</span></div></code></div></pre>`,E,m,Y="<li><code>mysql</code> database로 변경한다.</li>",z,k,ie=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF"><div class='code-container'><code><div class='line'><span style="color: undefined">show databases;</span></div><div class='line'><span style="color: undefined"></span></div><div class='line'><span style="color: undefined">+--------------------+</span></div><div class='line'><span style="color: undefined">| Database           |</span></div><div class='line'><span style="color: undefined">+--------------------+</span></div><div class='line'><span style="color: undefined">| information_schema |</span></div><div class='line'><span style="color: undefined">| mysql              |</span></div><div class='line'><span style="color: undefined">| performance_schema |</span></div><div class='line'><span style="color: undefined">| sys                |</span></div><div class='line'><span style="color: undefined">+--------------------+</span></div><div class='line'><span style="color: undefined"></span></div><div class='line'><span style="color: undefined">use mysql;</span></div></code></div></pre>`,b,y,G="<li>설정을 확인해본다.</li>",A,C,de=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF"><div class='code-container'><code><div class='line'><span style="color: undefined">select user, host, plugin from user;</span></div><div class='line'><span style="color: undefined"></span></div><div class='line'><span style="color: undefined">+------------------+-----------+-----------------------+</span></div><div class='line'><span style="color: undefined">| user             | host      | plugin                |</span></div><div class='line'><span style="color: undefined">+------------------+-----------+-----------------------+</span></div><div class='line'><span style="color: undefined">| root             | %         | caching_sha2_password |</span></div><div class='line'><span style="color: undefined">| mysql.infoschema | localhost | caching_sha2_password |</span></div><div class='line'><span style="color: undefined">| mysql.session    | localhost | caching_sha2_password |</span></div><div class='line'><span style="color: undefined">| mysql.sys        | localhost | caching_sha2_password |</span></div><div class='line'><span style="color: undefined">| root             | localhost | caching_sha2_password |</span></div><div class='line'><span style="color: undefined">+------------------+-----------+-----------------------+</span></div></code></div></pre>`,I,L,K="root 유저의 <code>caching_sha2_password</code>를 <code>mysql_native_password</code>로 변경해준다.",J,h,V="<li>설정을 변경한다.</li>",N,O,oe=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF"><div class='code-container'><code><div class='line'><span style="color: undefined">ALTER USER 'username'@'host' IDENTIFIED WITH mysql_native_password BY 'new password';</span></div></code></div></pre>`,$,g,X="<li><code>username</code> : 원하는 유저의 이름을 작성. root</li> <li><code>host</code> : 연결하고자 호스트 작성. %는 모든 호스트</li> <li><code>IDENTIFIED WITH</code> : 사용자 인증 방법 지정. <code>mysql_native_password</code>로 설정</li> <li><code>new password</code> : 새로운 비밀번호 지정. <strong>안하면 오류 발생</strong></li>",U,w,ee="<li>설정을 재확인한다.</li>",W,P,ce=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF"><div class='code-container'><code><div class='line'><span style="color: undefined">select user, host, plugin from user;</span></div><div class='line'><span style="color: undefined"></span></div><div class='line'><span style="color: undefined">+------------------+-----------+-----------------------+</span></div><div class='line'><span style="color: undefined">| user             | host      | plugin                |</span></div><div class='line'><span style="color: undefined">+------------------+-----------+-----------------------+</span></div><div class='line'><span style="color: undefined">| root             | %         | mysql_native_password |</span></div><div class='line'><span style="color: undefined">| mysql.infoschema | localhost | caching_sha2_password |</span></div><div class='line'><span style="color: undefined">| mysql.session    | localhost | caching_sha2_password |</span></div><div class='line'><span style="color: undefined">| mysql.sys        | localhost | caching_sha2_password |</span></div><div class='line'><span style="color: undefined">| root             | localhost | mysql_native_password |</span></div><div class='line'><span style="color: undefined">+------------------+-----------+-----------------------+</span></div></code></div></pre>`,D,T,se="<li>작동되는지 확인한다.</li>";return{c(){a=p("p"),a.textContent=f,c=i(),_=new x(!1),o=i(),r=p("p"),r.textContent=B,S=i(),F=p("ol"),F.innerHTML=Q,j=i(),M=new x(!1),E=i(),m=p("ol"),m.innerHTML=Y,z=i(),k=new x(!1),b=i(),y=p("ol"),y.innerHTML=G,A=i(),C=new x(!1),I=i(),L=p("p"),L.innerHTML=K,J=i(),h=p("ol"),h.innerHTML=V,N=i(),O=new x(!1),$=i(),g=p("ul"),g.innerHTML=X,U=i(),w=p("ol"),w.innerHTML=ee,W=i(),P=new x(!1),D=i(),T=p("ol"),T.innerHTML=se,this.h()},l(e){a=v(e,"P",{"data-svelte-h":!0}),u(a)!=="svelte-1jkqdq7"&&(a.textContent=f),c=d(e),_=H(e,!1),o=d(e),r=v(e,"P",{"data-svelte-h":!0}),u(r)!=="svelte-mcob3l"&&(r.textContent=B),S=d(e),F=v(e,"OL",{"data-svelte-h":!0}),u(F)!=="svelte-fri7zr"&&(F.innerHTML=Q),j=d(e),M=H(e,!1),E=d(e),m=v(e,"OL",{start:!0,"data-svelte-h":!0}),u(m)!=="svelte-pgme3p"&&(m.innerHTML=Y),z=d(e),k=H(e,!1),b=d(e),y=v(e,"OL",{start:!0,"data-svelte-h":!0}),u(y)!=="svelte-1e1b7u9"&&(y.innerHTML=G),A=d(e),C=H(e,!1),I=d(e),L=v(e,"P",{"data-svelte-h":!0}),u(L)!=="svelte-tgwn73"&&(L.innerHTML=K),J=d(e),h=v(e,"OL",{start:!0,"data-svelte-h":!0}),u(h)!=="svelte-15zhbis"&&(h.innerHTML=V),N=d(e),O=H(e,!1),$=d(e),g=v(e,"UL",{"data-svelte-h":!0}),u(g)!=="svelte-7lkdad"&&(g.innerHTML=X),U=d(e),w=v(e,"OL",{start:!0,"data-svelte-h":!0}),u(w)!=="svelte-13t1ke9"&&(w.innerHTML=ee),W=d(e),P=H(e,!1),D=d(e),T=v(e,"OL",{start:!0,"data-svelte-h":!0}),u(T)!=="svelte-p3q7ln"&&(T.innerHTML=se),this.h()},h(){_.a=o,M.a=E,R(m,"start","2"),k.a=b,R(y,"start","3"),C.a=I,R(h,"start","4"),O.a=$,R(w,"start","5"),P.a=D,R(T,"start","6")},m(e,s){l(e,a,s),l(e,c,s),_.m(n,e,s),l(e,o,s),l(e,r,s),l(e,S,s),l(e,F,s),l(e,j,s),M.m(ne,e,s),l(e,E,s),l(e,m,s),l(e,z,s),k.m(ie,e,s),l(e,b,s),l(e,y,s),l(e,A,s),C.m(de,e,s),l(e,I,s),l(e,L,s),l(e,J,s),l(e,h,s),l(e,N,s),O.m(oe,e,s),l(e,$,s),l(e,g,s),l(e,U,s),l(e,w,s),l(e,W,s),P.m(ce,e,s),l(e,D,s),l(e,T,s)},p:pe,d(e){e&&(t(a),t(c),_.d(),t(o),t(r),t(S),t(F),t(j),M.d(),t(E),t(m),t(z),k.d(),t(b),t(y),t(A),C.d(),t(I),t(L),t(J),t(h),t(N),O.d(),t($),t(g),t(U),t(w),t(W),P.d(),t(D),t(T))}}}function ge(q){let a,f;const c=[q[0],ae];let _={$$slots:{default:[Le]},$$scope:{ctx:q}};for(let n=0;n<c.length;n+=1)_=Z(_,c[n]);return a=new Te({props:_}),{c(){fe(a.$$.fragment)},l(n){_e(a.$$.fragment,n)},m(n,o){me(a,n,o),f=!0},p(n,[o]){const r=o&1?Fe(c,[o&1&&te(n[0]),o&0&&te(ae)]):{};o&2&&(r.$$scope={dirty:o,ctx:n}),a.$set(r)},i(n){f||(ye(a.$$.fragment,n),f=!0)},o(n){he(a.$$.fragment,n),f=!1},d(n){we(a,n)}}}const ae={title:"TypeORM 적용 시, 연결 에러",image:"",alt:"",created:"2024-02-23T00:00:00.000Z",updated:"2024-02-23T00:00:00.000Z",tags:["TypeORM","error"],images:[],slug:"/Javascript/TIL/typeorm/connection_error/+page.md",path:"/Javascript/TIL/typeorm/connection_error",toc:!1};function qe(q,a,f){return q.$$set=c=>{f(0,a=Z(Z({},a),le(c)))},a=le(a),[a]}class Ee extends ve{constructor(a){super(),ue(this,a,qe,ge,re,{})}}export{Ee as component};
