import{s as J,h as w,i as j,n as V}from"../chunks/scheduler.dd918b38.js";import{S as Z,i as q,r as z,u as B,v as U,d as G,t as K,w as N,g as c,s as u,H as k,h as i,A as C,c as f,j as A,F as I,f as E,a as $,y as F}from"../chunks/index.94d1baeb.js";import{P as Q,g as W,a as M}from"../chunks/post_layout.0e7f7691.js";function X(d){let s,t="vite에서 환경 변수를 사용하기 위해서는 import.meta.env를 사용해야 하는데, jest에서는 import 구문이 호환이 되지 않아 찾아보게 되었다.",n,l,e,a,m="vite-plugin-environment 라는 라이브러리를 설치한다.",L,_,O=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">npm i --save-dev vite-plugin-environment       </span></div></code></div></pre>`,P,o,v,H="<code>vite.config.ts</code>라는 파일을 위와 같이 설정한다.",T,g,R=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" ts="true"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">import</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> </span><span style="color: #EEFFFF">defineConfig</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">from</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">vite</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF">;</span></div><div class='line'><span style="color: #89DDFF">import</span><span style="color: #EEFFFF"> react </span><span style="color: #89DDFF">from</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">@vitejs/plugin-react</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF">;</span></div><div class='line'><span style="color: #89DDFF">import</span><span style="color: #EEFFFF"> EnvironmentPlugin </span><span style="color: #89DDFF">from</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">vite-plugin-environment</span><span style="color: #89DDFF">"</span><span style="color: #89DDFF">;</span></div><div class='line'></div><div class='line'><span style="color: #546E7A">// https://vitejs.dev/config/</span></div><div class='line'><span style="color: #89DDFF">export</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">default</span><span style="color: #EEFFFF"> </span><span style="color: #82AAFF">defineConfig</span><span style="color: #EEFFFF">(</span><span style="color: #89DDFF">&#123;</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #F07178">plugins</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> [</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #82AAFF">react</span><span style="color: #EEFFFF">()</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #82AAFF">EnvironmentPlugin</span><span style="color: #EEFFFF">(</span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">all</span><span style="color: #89DDFF">'</span><span style="color: #EEFFFF">)</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">  ]</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #F07178">define</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">&#123;</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #89DDFF">'</span><span style="color: #F07178">process.env</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> process</span><span style="color: #89DDFF">.</span><span style="color: #EEFFFF">env</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #89DDFF">&#125;,</span></div><div class='line'><span style="color: #89DDFF">&#125;</span><span style="color: #EEFFFF">)</span><span style="color: #89DDFF">;</span></div><div class='line'></div></code></div></pre>`,h,y,b=`위와 같이 설정하면, <code>{"BASE_URL":"./","MODE":"production","DEV":false,"PROD":true,"SSR":false}</code> =&gt; <code>process.env</code>로 바꾸어도 잘 적용이 된다.
<del>그런데 jest에는 undefined라고 나온다…</del>`;return{c(){s=c("p"),s.textContent=t,n=u(),l=c("ol"),e=c("li"),a=c("p"),a.textContent=m,L=u(),_=new k(!1),P=u(),o=c("li"),v=c("p"),v.innerHTML=H,T=u(),g=new k(!1),h=u(),y=c("p"),y.innerHTML=b,this.h()},l(p){s=i(p,"P",{"data-svelte-h":!0}),C(s)!=="svelte-1oon0zn"&&(s.textContent=t),n=f(p),l=i(p,"OL",{});var r=A(l);e=i(r,"LI",{});var x=A(e);a=i(x,"P",{"data-svelte-h":!0}),C(a)!=="svelte-1m28wp4"&&(a.textContent=m),L=f(x),_=I(x,!1),x.forEach(E),P=f(r),o=i(r,"LI",{});var D=A(o);v=i(D,"P",{"data-svelte-h":!0}),C(v)!=="svelte-ookt2o"&&(v.innerHTML=H),T=f(D),g=I(D,!1),h=f(D),y=i(D,"P",{"data-svelte-h":!0}),C(y)!=="svelte-1iic6lf"&&(y.innerHTML=b),D.forEach(E),r.forEach(E),this.h()},h(){_.a=null,g.a=h},m(p,r){$(p,s,r),$(p,n,r),$(p,l,r),F(l,e),F(e,a),F(e,L),_.m(O,e),F(l,P),F(l,o),F(o,v),F(o,T),g.m(R,o),F(o,h),F(o,y)},p:V,d(p){p&&(E(s),E(n),E(l))}}}function Y(d){let s,t;const n=[d[0],S];let l={$$slots:{default:[X]},$$scope:{ctx:d}};for(let e=0;e<n.length;e+=1)l=w(l,n[e]);return s=new Q({props:l}),{c(){z(s.$$.fragment)},l(e){B(s.$$.fragment,e)},m(e,a){U(s,e,a),t=!0},p(e,[a]){const m=a&1?W(n,[a&1&&M(e[0]),a&0&&M(S)]):{};a&2&&(m.$$scope={dirty:a,ctx:e}),s.$set(m)},i(e){t||(G(s.$$.fragment,e),t=!0)},o(e){K(s.$$.fragment,e),t=!1},d(e){N(s,e)}}}const S={title:"VITE에서 process.env 사용하기",image:"",alt:"",created:"2024-09-11T00:00:00.000Z",updated:"2024-09-11T00:00:00.000Z",tags:["berry"],images:[],slug:"/Javascript/TIL/vite_env/+page.md",path:"/Javascript/TIL/vite_env",toc:!1};function ss(d,s,t){return d.$$set=n=>{t(0,s=w(w({},s),j(n)))},s=j(s),[s]}class ns extends Z{constructor(s){super(),q(this,s,ss,Y,J,{})}}export{ns as component};
